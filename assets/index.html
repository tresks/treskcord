<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Discord</title>
		<link rel="stylesheet" href="/assets/fosscord.css" />
		<link id="logincss" rel="stylesheet" href="/assets/fosscord-login.css" />
		<link id="customcss" rel="stylesheet" href="/assets/user.css" />
		<link rel="stylesheet" href="/assets/fosscord.css" />
		<meta property="og:title" content="Discord" />
		<meta name="description" content="Discord - A New Way to Chat with Friends & Communities">
		<meta property="og:description" content="Discord is the easiest way to communicate over voice, video, and text. Chat, hang out, and stay close with your friends and communities." />
		<meta property="og:url" content="https://n3rdp0rt4l.gitlab.io/n3rdp0rt4l" />
		<link rel="icon" type="image/png" href="/assets/Finder.Red.png" />
		<meta property="og:image" content="/assets/favicon.ico" />
	</head>

	<body>
		<div id="app-mount"></div>
		<script>
			window.__OVERLAY__ = /overlay/.test(location.pathname);
			window.__BILLING_STANDALONE__ = /^\/billing/.test(location.pathname);
			window.GLOBAL_ENV = {
				API_ENDPOINT: "/api",
				API_VERSION: 9,
				GATEWAY_ENDPOINT: `${location.protocol === "https:" ? "wss://" : "ws://"}${location.host}`,
				WEBAPP_ENDPOINT: "",
				CDN_HOST: `${location.hostname}:3003`,
				ASSET_ENDPOINT: "",
				MEDIA_PROXY_ENDPOINT: "https://media.discordapp.net",
				WIDGET_ENDPOINT: `//${location.host}/widget`,
				INVITE_HOST: `${location.hostname}/invite`,
				GUILD_TEMPLATE_HOST: "${location.host}",
				GIFT_CODE_HOST: "${location.hostname}",
				RELEASE_CHANNEL: "staging",
				MARKETING_ENDPOINT: "//discord.com",
				BRAINTREE_KEY: "production_5st77rrc_49pp2rp4phym7387",
				STRIPE_KEY: "pk_live_CUQtlpQUF0vufWpnpUmQvcdi",
				NETWORKING_ENDPOINT: "//router.discordapp.net",
				RTC_LATENCY_ENDPOINT: "//${location.hostname}/rtc",
				ACTIVITY_APPLICATION_HOST: "discordsays.com",
				PROJECT_ENV: "staging",
				REMOTE_AUTH_ENDPOINT: "//localhost:3020",
				SENTRY_TAGS: { buildId: "9ab8626bcebceaea6da570b9c586172d02b9c996", buildType: "normal" },
				MIGRATION_SOURCE_ORIGIN: "https://${location.hostname}",
				MIGRATION_DESTINATION_ORIGIN: "https://${location.hostname}",
				HTML_TIMESTAMP: Date.now(),
				ALGOLIA_KEY: "aca0d7082e4e63af5ba5917d5e96bed0"
			};
			GLOBAL_ENV.MEDIA_PROXY_ENDPOINT = location.protocol + "//" + GLOBAL_ENV.CDN_HOST;
			const localStorage = window.localStorage;
			// TODO: remote auth
			// window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT = window.GLOBAL_ENV.GATEWAY_ENDPOINT.replace(/wss?:/, "");
			localStorage.setItem("gatewayURL", window.GLOBAL_ENV.GATEWAY_ENDPOINT);
			localStorage.setItem(
				"DeveloperOptionsStore",
				`{"trace":true,"canary":true,"logGatewayEvents":true,"logOverlayEvents":true,"logAnalyticsEvents":true,"sourceMapsEnabled":false,"axeEnabled":false}`
			);

			setInterval(() => {
				let token = JSON.parse(localStorage.getItem("token"));
				if (token) {
					let logincss = document.querySelector("#logincss"),
						canRemove = logincss ? logincss : "";
					if (canRemove !== "") {
						document.querySelector("#logincss").remove();
						canRemove = "";
					}
				}
			}, 1000);

			const settings = JSON.parse(localStorage.getItem("UserSettingsStore"));
			if (settings && settings.locale.length <= 2) {
				// fix client locale wrong and client not loading at all
				settings.locale = "en-US";
				localStorage.setItem("UserSettingsStore", JSON.stringify(settings));
			}
		</script>

		<script src="/assets/checkLocale.js"></script>
		<script src="/assets/f0d5c9918f0067133d1f.js"></script>
		<script src="/assets/2925ca387a2589a8e8b4.js"></script>
		<script src="/assets/eb8dfda2a5fb2680ec47.js"></script>
		<script src="/assets/5c5472c34e94b0a453e3.js"></script>
		<!-- plugin marker -->
	</body>
</html>
